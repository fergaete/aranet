methods:
  post:
    - "username"
    - "passwd"
    - "passwd2"

names:
  username:
    required:     yes
    required_msg: Username is mandatory
    validators:   usernameUniqueValidator

  passwd:
    required:     no
    group:        password
    validators:   passwordValidator

  passwd2:
    required:     no
    group:        password
    validators:   comparePasswordValidator

usernameUniqueValidator:
  class:          sfPropelUniqueValidator
  param:
    class:        sfGuardUser
    column:       username
    unique_error: This username already exists

passwordValidator:
  class:          sfStringValidator
  param:
    min:          4
    min_error:    The minimum length for the password is 4

comparePasswordValidator:
  class:           sfCompareValidator
  param:
    check:         "passwd"
    compare_error: Passwords do not match
